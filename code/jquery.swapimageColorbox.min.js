(function(a){a.swapImage=function(b,c,d,e,f){a.swapImage.files={};a.swapImage.data={};a.swapImage.uuid=0;a.swapImage.init=function(){var b=++a.swapImage.uuid;a(this).attr("swapImageId",b);var c=a(this).metadata();a.swapImage.data[b]=a.swapImage.data[b]||{};if(typeof c.src!="undefined"){a.swapImage.data[b]["src"]=c.src;a.swapImage.files[c.src]=false}a.each(a.grep([[c.sin,"sin"],[c.sout,"sout"]],function(a){return typeof a[0]!="undefined"&&a[0].length>0}),function(){var d=this[0];var e=this[1];for(var f=0;f<d.length;f++){var g=c[e][f].indexOf(":");var h=c[e][f].substring(0,g);var i=c[e][f].substring(g+1);a.swapImage.data[b][e]=a.swapImage.data[b][e]||[];if(g>1){a.swapImage.data[b][e].push([h,i]);a.swapImage.files[i]=false}else{a.swapImage.data[b][e].push([i])}}})};a.swapImage.preload=function(){a.each(a.swapImage.files,function(b,c){if(c==false){a.swapImage.files[b]=true;var d=new Image;d.src=b}})};a.swapImage.swapIn=function(){a.swapImage.swap(this,"sin")};a.swapImage.swapOut=function(){a.swapImage.swap(this,"sout")};a.swapImage.swap=function(b,c){var d=a(b).attr("swapImageId");if(typeof a.swapImage.data[d][c]!="undefined"){for(var e=0;e<a.swapImage.data[d][c].length;e++){if(a.swapImage.data[d][c][e].length>1){a(a.swapImage.data[d][c][e][0]).attr("src",a.swapImage.data[d][c][e][1]);a(a.swapImage.data[d][c][e][0]).attr("width",imgDetails[d-1]["medW"]);a(a.swapImage.data[d][c][e][0]).attr("height",imgDetails[d-1]["medH"]);var f=a.swapImage.data[d][c][e][1];var g=/\s*_med\s*/;f=f.replace(g,"");a('a[rel="img"]').attr("href",f);a(".details").html("<strong>"+imgDetails[d-1]["title"]+"</strong>");if(imgDetails[d-1]["desc"]!=""){a(".details").append("<br />"+imgDetails[d-1]["desc"])}if(imgDetails[d-1]["medium"]!=""){a(".details").append("<br />"+imgDetails[d-1]["medium"])}if(imgDetails[d-1]["size"]!=""){a(".details").append("<br />"+imgDetails[d-1]["size"])}if(imgDetails[d-1]["price"]!=""){a(".details").append("<br />"+imgDetails[d-1]["price"])}if(imgDetails[d-1]["date_painted"]!=""&&imgDetails[d-1]["date_painted"]!="0000"){a(".details").append("<br />"+imgDetails[d-1]["date_painted"])}}else{a(a.swapImage.data[d][c][e][0]).each(a.swapImage._swap)}}}else{a.swapImage._swap.call(b)}};a.swapImage._swap=function(b){var c=a(this).attr("swapImageId");var d=a.swapImage.data[c];if(typeof d.src!="undefined"){var e=d.src;d.src=this.src;this.src=e}};a(document).ready(function(){if(typeof d=="undefined"){d=true}if(typeof c=="undefined"){c=true}a(b).each(a.swapImage.init);if(typeof e=="undefined"&&typeof e=="undefined"){e="mouseenter";f="mouseleave"}if(d){if(typeof f!="undefined"){a(b).bind(e,a.swapImage.swapIn).bind(f,a.swapImage.swapOut)}else{a(b).bind(e,a.swapImage.swapIn)}}else{a(b).one(e,a.swapImage.swapIn)}if(c){a(b).each(a.swapImage.preload)}})}})(jQuery)